# Mediawiki APIとSPARQLによって文章をアノテーションするアプリ
[アプリ本体URL](https://masapi61.github.io/Annotation-by-Wikidata/index.html)  
　キーワードからwikidataを通してそのキーワードの情報を正確に得ること。また、それに関連した情報を得ることを目的にして開発したアプリケーションになります。仕組みはMediawiki APIのWikidataラベル検索API、[前方一致検索API](https://www.wikidata.org/w/api.php?action=help&modules=wbsearchentities)と[あいまい検索API](https://www.mediawiki.org/w/api.php?action=help&modules=query%2Bsearch)にkuromoji.jsで形態素解析を行い抽出した名詞を入れて検索し、そのAPIから得たwikidataのidを次はSPARQLに問い合わせてカテゴリーなどの情報を得ています。APIとSPARQLを繰り返し利用する性質上、処理時間がとても長くなっていることが欠点です。
 
 # 使い方  
* 真ん中のテキストエリアにアノテーションしたい文章を入力して下さい。そしてアノテーション実行ボタンをクリックするとアノテーションが実行されます。  
* 次に左のカテゴリーをクリックすると文章中の選択されたカテゴリーに該当する単語がカテゴリーに対応した色にハイライトされアノテーションされます。カテゴリーに該当していない単語は普通にアノテーションされます。
* 次は詳細設定の説明です。詳細設定をクリックすると折りたたまれていた詳細設定が表示されます。
  * 一番上のラベル検索設定は前方一致とあいまい検索のどちらかが選択できるようになっていて、デフォルトは前方一致検索となっています。この設定は上記の前方一致検索APIかあいまい検索APIのどちらを利用するかという設定になります。前方一致でアノテーションされた単語とWikidataのリンクがうまくいっていない場合あいまい検索に切り替えて試してみて下さい。
